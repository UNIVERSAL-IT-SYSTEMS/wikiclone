{{Stub}}

The CFLAGS and CXXFLAGS are environment variables whose content is passed on to each invocation of '''cc''' (the C compiler, usually '''gcc''') or '''c++''' (the C++ compiler, usually '''g++''') respectively during compile and build phases of software. Within Gentoo, these variables are set in {{Path|/etc/portage/make.conf}} so that each compile job invoked by the package manager uses them.

As an example we specify the CPU architecture (<code>-march=native</code>), the optimization level (<code>-O2</code>) and another useful flag (<code>-pipe</code>) that serves to avoid using temporary files:

{{File|/etc/portage/make.conf||<pre>
CFLAGS="-march=native -O2 -pipe"
CXXFLAGS="${CFLAGS}"
</pre>}}

Please note that optimization level <code>-O2</code> is 2 preceded by an uppercase "o", not by a zero.

For development and quality control purposes, this variable can instruct the compiler to add debug information to the generated binaries. A typical setting would then be:

{{File|/etc/portage/make.conf||<pre>
CFLAGS="-march=native -O2 -pipe -ggdb -frecord-gcc-switches"
CXXFLAGS="${CFLAGS}"
</pre>}}

For Intel Core i7 CPU users or those having econf error during install (with the current 2012.1 release of Gentoo which ships with GCC 4.5.3 compiler) it is recommended to begin your install with the -march=core2 flag to generate a base install against GCC 4.5.3, then later you can upgrade GCC to 4.6.3 or newer in order to support the new -march=corei7 flag. Below is the recommended setting to begin with for Core i7 users:

{{File|/etc/portage/make.conf||<pre>
CFLAGS="-march=core2 -O2 -pipe"
CXXFLAGS="${CFLAGS}"
</pre>}}

== See also ==
* [http://www.gentoo.org/doc/en/gcc-optimization.xml Gentoo Compilation Optimization Guide]
* [http://www.gentoo.org/proj/en/qa/backtraces.xml Gentoo documentation page on backtraces]

== External resources ==
* [http://www.gnu.org/software/gcc/onlinedocs GCC Online Documentation] on GNU.org

[[Category:Portage]]
